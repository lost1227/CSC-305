<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Minimax Game System</title>
	<meta name="generator" content="LibreOffice 6.0.7.3 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="2021-01-24T19:19:08.666971975"/>
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<style type="text/css">
		p { color: #000000 }
		p.msonormal { margin-bottom: 0in }
		p.msobodytext { margin-bottom: 0in }
		h2 { color: #000000 }
		h2.cjk { font-family: "NSimSun" }
		h2.ctl { font-family: "Arial" }
		h3 { color: #000000 }
		h3.cjk { font-family: "NSimSun" }
		h3.ctl { font-family: "Arial" }
		h4 { color: #000000 }
		h4.cjk { font-family: "NSimSun" }
		h4.ctl { font-family: "Arial" }
		pre { color: #000000 }
		pre.cjk { font-family: "NSimSun", monospace }
		a:link { color: #0000ff; font-family: "Times New Roman", serif }
		a:visited { color: #800080 }
	</style>
</head>
<body lang="en-US" text="#000000" link="#0000ff" vlink="#800080" dir="ltr">
<p class="msonormal" align="center" style="margin-bottom: 0.2in"><font size="5" style="font-size: 18pt"><b>General
Spec for Game Classes and BoardTest</b></font></p>
<h3 class="western">Changes</h3>
<p>1. Changed &quot;default&quot; board and move to &quot;current&quot;
board and move for clarity.</p>
<h2 class="western">1.0 Overview</h2>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">For
this milestone, build a BoardTest program that allows testing of
Othello, Mancala, Connect-Four Pop 10 (C4Pop10) and Checkers game
boards and related classes. (Or some subset of these as indicated in
class.) Materials for this milestone may be found in
~grade-cstaley/305/milestone1 on the class server</font></p>
<h2 class="western">2.0 Game Rules</h2>
<h3 class="western">2.1 Othello</h3>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">See
http://www.boardgamecapital.com/othello-rules.htm for Othello rules.
Our version adjusts those rules a little. We require a player with no
moves to make a &quot;Pass&quot; move (and we permit Pass only in
that case), and we end the game when both players have just made Pass
moves.</font></p>
<h3 class="western">2.2 Checkers</h3>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Implement
CheckersBoard, CheckersMove, CheckersView and CheckersDlg classes for
Checkers. Rules for Checkers may be found just about anywhere. Note
in particular the rule that if</font> you can jump, you must. And, a
multiple jump must be completed; you cannot stop part way through a
multiple jump. If you have a choice of jumps, you can choose among
them, regardless of whether some of them are multiple, or not. 
</p>
<h3 class="western">2.3 Mancala</h3>
<p>The rules for Mancala appear at
<a href="https://www.pokershop.dk/images/rules%20of%20mancala.pdf">https://www.pokershop.dk/images/rules%20of%20mancala.pdf</a>
and numerous other sites. Mancala has many variants. Use &quot;Egyptian
Rules&quot;. Since Mancala permits a player to have multiple moves in
a row, BoardTest's Mancala has a &quot;Pass&quot; move, and the
pattern of play requires each player to make as many moves in
succession as they are allowed, and then to Pass.</p>
<h3 class="western">2.4 Connect Four Pop 10 (C4Popl0)</h3>
<p>The rules for C4Pop10 are at
<a href="https://en.wikipedia.org/wiki/Connect_Four">https://en.wikipedia.org/wiki/Connect_Four</a>.
See in particular the Pop 10 variant of the game. As with Mancala,
cases where a player gets a repeat turn are implemented by the
opposite player being required to make a “Pass” move, which
becomes one of the legitimate moves under BoardTest. Also, for
simplicity we assume that Yellow is the first player in all games,
with Red the second player. 
</p>
<p>Finally, there is a rare but important case, not mentioned in the
online game rules, where a player may have no moves because all
bottom cells are occupied by the opponent. In this case the player
must pass.</p>
<h2 class="western">3.0 General Spec</h2>
<p>This section covers the specifics of each game's behavior, as well
as the BoardTest application that tests the games. This section gives
all information needed to test the game implementations. The next
section offers more design detail for implementing the games.</p>
<h3 class="western">3.1 Boards and Moves</h3>
<p>Each game has a board configuration that can be displayed in text
form, and moves that may be applied to a board, also entered and
displayed in text form. The move and board formats for each game
appear below. 
</p>
<h4 class="western">3.1.1 Othello Formats</h4>
<p>Othello board displays look like this, with the B or W at the
bottom indicating whose move it is:</p>
<pre class="western">........
........
....W...
..BBW...
...BW...
........
........
........
B</pre><p style="margin-bottom: 0in">
<br/>

</p>
<p>Othello moves take one of these two forms:</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Pass</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">[1,2]</font></p>
<p>Either form allows leading or trailing whitespace when the move is
netered. The [1,2] form permits spaces anywhere, and gives the row
and column (numbered from 0) at which to place the next disc.</p>
<h4 class="western"><font size="2" style="font-size: 11pt"><b>3.1.2
Mancala</b></font> <font size="2" style="font-size: 11pt"><b>Formats</b></font></h4>
<p>Mancala boards look like this, with bowls and mancalas numbered
from 0 to 13, from white's left to black's right.</p>
<pre class="western">Black  12  11  10   9   8   7
    -----------------------------
   |    4   4   4   4   4   4    |
13 | 0                         0 | 6
   |    4   4   4   4   4   4    |
    -----------------------------
White   0   1   2   3   4   5
White's move</pre><p style="margin-bottom: 0in; line-height: 100%">
<br/>

</p>
<p>And Mancala moves are one of:</p>
<p>Pass</p>
<p>5</p>
<p>Where the latter form is any number from 0 to 5 or 7 to 12
indicating the bowl to play. Either form permits leading or trailing
spaces on entry.</p>
<h4 class="western">3.1.3 Checkers Formats</h4>
<p>Each square on a checkers board is identified by a row letter,
from A to H (upper or lower case), starting from the black side of
the board, and by a column number, from 1 to 8, from left to right.&nbsp;
Using this notation, each square is identified by a letter/digit
combination, possibly with an intervening space.&nbsp; A1 is the
lower left corner, from black's side, and h8 is the upper right.</p>
<p>Checkers boards look like this:</p>
<pre class="western">           White

H  .  w  .  w  .  w  .  w  
G  w  .  w  .  w  .  w  .  
F  .  w  .  w  .  w  .  w  
E  .  .  .  .  .  .  .  .  
D  .  .  .  .  .  .  .  .  
C  b  .  b  .  b  .  b  .  
B  .  b  .  b  .  b  .  b  
A  b  .  b  .  b  .  b  .  
   1  2  3  4  5  6  7  8

           Black

Black's move</pre><p style="margin-bottom: 0in">
<br/>

</p>
<p>A checkers move is a series of two or more squares, representing
the starting position of the move and all squares to which the piece
moves during the move, separated by &quot;-&gt;&quot;. Most moves
have just a starting and destination square, but a multi-jump move
will have more. Spaces may appear anywhere in the move except between
the - and &gt;. Some examples:</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">C1
-&gt; d2</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">c3
-&gt; e1-&gt;g3</font></p>
<h4 class="western">3.1.4 C4Pop10 Formats</h4>
<p>C4Pop10 board displays look like this, with the columns labeled
A-G and the Y or R at the bottom indicating whose move it is. There
are no spaces on the left or right:</p>
<pre class="western">. . . . . . .
. . . . . . .
. . . . . . .
. . . . . . .
Y . . . . . .
Y Y R R . . .
-------------
A B C D E F G

R</pre><p style="margin-bottom: 0in">
<br/>

</p>
<p>C4Pop10 moves take one of these four forms:</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Pass</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Place
B </font>
</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Keep
D</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Take
C place E</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><br/>
<br/>

</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">The
“place” values indicate where to drop a disc at the top, and
“take” or “keep” indicate from which column to withdraw a
disc at the bottom. One or more spaces must appear between words
(e.g. Place B is fine, but PlaceB is not). Arbitrary spaces may
appear at the start and end.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Place-only
moves occur at the start of the game until the board is filled. After
that, players must make take-and-place moves or keep moves depending
on whether they can keep the disc. Or, they must pass if the other
player is entitled to an immediate next move.</font></p>
<h3 class="western">3.2 Allowed Moves, ApplyMove, UndoLastMove, and
Move History</h3>
<p>Any board configuration has a list of allowed moves for that
configuration (empty if and only if the board is at the end of the
game where no further moves are allowed). Moves may be applied to
boards, to arrive at a new board configuration. Each board has a list
of moves that have thus far been applied to arrive at the current
board. And, each board allows its most recent move to be undone. Move
undo may be repeated all the way back to the start of the game if
desired.</p>
<h3 class="western">3.3 Move Comparisons</h3>
<p>Moves have a less/greater comparison rule, so that they may
presented in sorted order e.g. in lists of allowed moves, and so they
may be used as keys in a map data structure.</p>
<p><b>3.3.1 Othello move comparisons</b></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">1.
Two Othello moves are equal if their row and col are equal or if they
are both &quot;Pass&quot;.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">2.
OthelloMove A is &quot;less&quot; than OthelloMove B if its row is
less, or if the rows are equal and its col is less.&nbsp; A &quot;Pass&quot;
move is less than any other move.</font></p>
<p><b>3.3.2 Checkers move comparisons</b></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">1.
Two checkers moves are equal if they have exactly the same squares.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">2.
A checkers move A is less than another move B based on the first
square for which the two moves differ. One square is less than
another if its row is less, or its row is the same and its column is
less.&nbsp; Move A&nbsp; is less than move B, if the first square on
which they differ is less for A, or if A is a strict prefix of B.
(Like string comparison, in other words.)</font></p>
<p><b>3.3.3 Mancala move comparisons</b></p>
<p><font size="2" style="font-size: 11pt">1. Two Mancala moves are
equal if their bowl numbers are equal or if they are both &quot;Pass&quot;.</font></p>
<p><font size="2" style="font-size: 11pt">2. Mancala move A is less
than Mancala move B if A's bowl number is less than B's. A &quot;Pass&quot;
move is less than any other move.</font></p>
<p><b>3.3.4 C4Pop10 move comparisons</b></p>
<p><font size="2" style="font-size: 11pt">1. Two C4Pop10 moves are
equal if their types and column(s) are the same.</font></p>
<p><font size="2" style="font-size: 11pt">2. C4Pop10 moves are
compared first based on their types in this order: Pass, Place, Keep,
Take/place (the same order in which they are listed above. Within a
type, move X is less than move Y if X’x “take” column is less
than Y’s, or in the case of Take/place if the “take” columns
are the same and X’s “put” column is less than Y’s “put”
column.</font></p>
<h3 class="western">3.4 Move Errors</h3>
<p><font size="2" style="font-size: 11pt">When a move is entered, for
any game, it may be wrong for one of three reasons:</font></p>
<p><font size="2" style="font-size: 11pt">a. A badly formatted move
is one that doesn't match the format specified above. This includes
any negative sign before numbers -- the move formats forbid negative
signs.</font></p>
<p><font size="2" style="font-size: 11pt">b. An out of bounds move is
one that has a bowl, row, or col number/letter that is too high or
low.</font></p>
<p><font size="2" style="font-size: 11pt">c. An invalid move is
correctly formatted and in range, but is not one of the moves
permitted by the current board configuration.</font></p>
<p><font size="2" style="font-size: 11pt">The first two errors should
be thrown as exceptions from the move parsing code. Testing this is
important. The latter error is checked by BoardTest iff you attempt
to apply the move.</font></p>
<h3 class="western">3.5 Board Keys and Key Comparisons</h3>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Boards
themselves are not less/greater comparable, but they are able to
generate keys -- hash-reduced versions of themselves -- that are. So
in effect there is a rule for less/greater for boards.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt"><b>3.5.1</b>
<b>Othello Key</b> <b>Comparisons</b></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">1.
Two OthelloBoard::Keys are equal if all squares have same color of
piece (or are both empty) and if the next player to move is the same
and if both boards are in the same mode (initial play where only puts
are allowed, or not initial play)</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">2.
OthelloBoard::Key A is &quot;less&quot; than OthelloBoard::Key B if
in the first square that they differ, reading in row-major order, A's
value is &quot;less&quot; than B's if we give the following values to
squares:</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">White&nbsp;
-1</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Empty&nbsp;
0</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Black&nbsp;
1</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">If
all squares are the same, then A is &quot;less&quot; than B if A's
next player to move is less than B's, using the same numerical
labelling, and if squares and next move are the same, then A is
“less” than “B” if A is in initial play and B is not.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt"><b>3.5.2
Mancala</b> <b>Key</b> <b>Comparisons</b></font></p>
<p style="margin-bottom: 0in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">1.
Two MancalaBoard::Keys are equal if all bowls and mancalas have the
same contents, it’s the same player’s turn to move, and both
either require or do not require a Pass move.</font></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">2.
Key A is less than Key B if</font></font></p>
<ol type="a">
	<li/>
<p style="margin-bottom: 0in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">A’s
	next player is lower than B's next player (black is “lower” than
	white)</font></font></p>
	<li/>
<p style="margin-bottom: 0in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">A
	and B have the same next player, but B requires a Pass while A does
	not.</font></font></p>
	<li/>
<p style="margin-bottom: 0in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">If
	A and B have the same next player and required-pass status, then, in
	the first bowl/mancala, in numerical order, for which the two have a
	different number of stones, the one with fewer stones is the lesser.</font></font></p>
</ol>
<p style="margin-bottom: 0in"><br/>

</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt"><font face="Times New Roman, serif"><b>3.5.3
Checkers</b></font> <font face="Times New Roman, serif"><b>Key</b></font>
<font face="Times New Roman, serif"><b>Comparisons</b></font></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">1.
Two CheckersBoard::Keys are equal if all squares have same color of
piece (or are both empty), the same type of piece (king or nonking)
and if the next player to move is the same.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">2.
CheckersBoard::Key A is &quot;less&quot; than CheckersBoard::Key B if
they differ in the next player to move, and black has the next move
for A.  If they have the same next player to move, then in the first
square that they differ, reading in row-major order, A's value is
&quot;less&quot; than B's if we give the following values to pieces,
in increasing order:</font></p>
<p class="msonormal" style="margin-left: 0.5in; text-indent: -0.25in; margin-bottom: 0.2in">
<font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">No
piece, black piece, white piece, black king, white king.</font></font></p>
<p class="msonormal" style="margin-left: 0.5in; text-indent: -0.25in; margin-bottom: 0.2in">
<br/>
<br/>

</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt"><b>3.5.4
C4Pop10</b> <b>Key</b> <b>Comparisons</b></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">1.
Two C4Pop10Board::Keys are equal if all squares have same color of
piece (or are both empty) and if the next player to move is the same.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">2.
C4Pop10Board::Key A is &quot;less&quot; than C4Pop10Board::Key B if
in the first square that they differ, reading in row-major order, A's
value is &quot;less&quot; than B's if we give the following values to
squares:</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Red
-1</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Empty&nbsp;
0</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Yellow
1</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">If
all squares are the same, then A is &quot;less&quot; than B if A's
next player to move is less than B's, using the same numerical
labeling.</font></font></p>
<h3 class="western">3.6 Board Values</h3>
<p>Each board has a value, indicating whether the first or second
player is winning. A value is some number greater than 0 if the first
player is winning, less than 0 if the second player is winning, and 0
for a tie situation. When a board is at end of game (no more moves
possible) then the board value is strictly one of 0 for a tie,
536870911 if the first player won, and -536870911 if the second
player one. <font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">(When
you read this sentence, send an Email to clintstaley@gmail.com with
title &quot;General Spec Email&quot; and an empty body.)</font></font>
Those large values are INT_MAX/4. 
</p>
<p>Here are the rules for computing a board's value other than at end
of game:</p>
<h4 class="western">3.6.1 Othello board value</h4>
<p>For Othello, value is computed by adding a square's weight if a
black piece occupies the square, and subtracting a square's weight if
a white piece occupies the square. Squares have different weights,
settable as options, and initially defaulted to:</p>
<p>Corners: 16</p>
<p>Edges: 8</p>
<p>Squares one away from the edge: 0</p>
<p>All others: 1</p>
<h4 class="western">3.6.2 Checkers board value</h4>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Checkers
value is determined by adding weights for each piece on the board
(negative for white, who plays second). Weights are initially as
follows, though all but the first weight are adjustable:</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">a)
100 weight per piece</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">b)
An additional 100 weight per piece on the home (closest) row of its
player, since controlling king spots is valuable.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">c)
20 weight for which side has the move.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">d)
An additional 300 weight for each king piece</font></p>
<h4 class="western">3.6.3 Mancala board value</h4>
<p style="margin-bottom: 0in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">MancalaBoard
value is determined by</font></font> <font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">adding
the following options-settable weights. </font></font>
</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">1.
Move weight</font></font> <font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">200</font></font>
– <font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">an
amount added(subtracted) from the value if white(black) has the next
move.</font></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">2.
Mancala weight 400 </font></font>– <font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">an
amount added(subtracted) for each stone in the white(black) mancala.</font></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0.2in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">3.
EmptyBowl weight 200 – added(subtracted) for each empty bowl on
white’s(black’s) side.</font></font></p>
<h4 class="western" style="margin-top: 0in; margin-bottom: 0.2in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">3.6.4
C4Pop10 board value</font></font></h4>
<p style="margin-bottom: 0.2in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">C4Pop10Board
value is determined by adding the following options-settable weights
(initial values given). </font></font>
</p>
<p style="margin-bottom: 0.2in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">1.
Safe weight 100 – added(subtracted) for each “safe” disc
yellow(red) has. A safe disc is one that can be removed and kept on
this or a later move, with no opportunity for the opponent to
interfere. This happens when 4 or more discs are stacked vertically
at the bottom, since discs can be safely removed from the bottom
until the stack drops to size 3. It also happens when 4 or more discs
are in a contiguous row at the bottom. Not only are all but three
discs of such a bottom contiguous row safe, so are all discs
immediately above them, since removing a bottom disc simply drops
another safe disc into its place.</font></font></p>
<p style="margin-bottom: 0.2in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">2.
Threat weight 50 – added(subtracted) for each “threatening”
disc yellow(red) has. This is a disc that can be removed and kept
unless the opponent does something to interfere. Discs on the bottom
row that are part of a diagonal four are in this category, since the
opponent could render them non-keepable by pulling a disc out from
under one of the three other discs in the diagonal.</font></font></p>
<p style="margin-bottom: 0.2in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">3.
Kept disc weight 120 – added(subtracted) for each kept disc
yellow(red) has.</font></font></p>
<p style="margin-bottom: 0.2in"><font face="Times New Roman, serif"><font size="2" style="font-size: 11pt">4.
50 – added(subtracted) if yellow(red) has the next move</font></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="3" style="font-size: 12pt"><b>3.7
Options and Dialogs</b></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Modification
of options for computing board value is done via textual dialogs that
let the user adjust the weights for various parts of the board.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">The
dialogs first present the current options to the user and then query
to see if the user wants to change the options.&nbsp; A &quot;y&quot;
is the only acceptable &quot;yes&quot; answer. It may be followed by
arbitrary garbage on the reply line without error.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">If
the user wishes to change options, the dialog class prompts for each
option. We have only integer options presently.&nbsp; The user must
enter a valid integer falling within acceptable ranges. The integer
must be on a line by itself – trailing nonwhitespace garbage is
unacceptable and generates an error indicating there is extra garbage
on the line.</font></p>
<h4 class="western">3.7.1 Othello options</h4>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Othello
options comprise a weight for the value of a piece at the corner,
edge, center, and one row/col away from an edge. Acceptable ranges
are between 0 and 100 for all of these. A cell like [0,1] that is
both on an edge and one away from an edge counts as “one away from
an edge”.</font></p>
<h4 class="western">3.7.2 Checkers options</h4>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Checkers
options comprise a weight for the value of a kinged piece (0 to
1000), for the value of a piece on the back row (0 to 1000) and for
having the next move (0 to 100).</font></p>
<h4 class="western">3.7.3 Mancala Options</h4>
<p>Mancala options comprise a weight for a stone in the mancala (1 to
1000), for the value of an empty bowl on the player's side (1 to 500)
and for the value of having the next move (1 to 500).</p>
<h4 class="western">3.7.4 C4Pop10 Options</h4>
<p>C4Pop10 options comprise a weight for a safe disc (1 to 500), for
a threatening disc (1 to 200), for the value of a kept disc (1 to
1000) and for the value of having the next move (1 to 200).</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="3" style="font-size: 12pt"><b>3.8
Binary I/O</b></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">All
boards can be read and written to/from files in binary format. The
particulars of the format do not matter for testing general behavior,
but a binary file written on *any* machine (regardless of endianness)
must be successfully readable on any other machine.</font></p>
<h2 class="western">4.0 BoardTest Scaffold</h2>
<p>All of the specified functionality above will be implemented in
classes representing boards, moves, views of board, and
option-setting dialogs. To test these classes, you'll create a
BoardTest scaffold that has the following text commands. This
scaffold is what you'll write input test files for in the first phase
of the project.</p>
<h3 class="western">4.1 Running BoardTest</h3>
<p>Run BoardTest with a single commandline argument specifying the
type of game to test. This argument is the name of the C++ class for
the board of the game, either OthelloBoard, CheckersBoard, or
MancalaBoard.</p>
<p>BoardTest offers no prompts, since it's designed for input/output
redirection and diff-testing of outputs. Prompts would clutter the
output. 
</p>
<h3 class="western">4.2 The Commands</h3>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">showBoard</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Draw
a textual picture of the current board, and after that print a list
of all moves possible from the board, in sorted order per the rules
for move comparison. ShowBoard calculates the largest move size in
the list of possible moves, and then figures how many columns of
moves of that largest size can be fit onto an 80-char screen, with
one space after each column. It then prints all the moves using that
many columns, with moves left-justified within their column, so that
they line up neatly.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">enterMove
</font><font size="2" style="font-size: 11pt"><i>move</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Make
</font><font size="2" style="font-size: 11pt"><i>move</i></font><span style="font-variant: normal">
</span><span style="font-variant: normal"><font size="2" style="font-size: 11pt"><span style="font-style: normal">the
current move (but don't apply it to the board yet). Report any
exceptions thrown by the parser that interprets the </span></font></span><font size="2" style="font-size: 11pt"><i>move</i></font><span style="font-variant: normal">
</span><span style="font-variant: normal"><font size="2" style="font-size: 11pt"><span style="font-style: normal">string
entered.</span></font></span></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">showMove</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Print
the current move.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">applyMove</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Apply
the current move to the current board.&nbsp; Don’t worry about
checking if the move is one of the allowed moves (although the model
BoardTest does check as a convenience in testing). Runtime failure of
BoardTest may occur if a disallowed move is applied, since this would
be blocked in practice by the main program in the full application.
Your BoardTest implementation will never be given non-allowed moves
to apply.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Also,
applyMove does not clear the current move. A showMove call after
ApplyMove still shows the move.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">doMove
</font><font size="2" style="font-size: 11pt"><i>move</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Combines
the action of enterMove followed by applyMove, for convenience.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">undoLastMove
</font><font size="2" style="font-size: 11pt"><i>count</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Reverse
the last </font><font size="2" style="font-size: 11pt"><i>count</i></font>
<font size="2" style="font-size: 11pt">moves applied to the current
board.&nbsp; Stop automatically if you reach the start of the game.&nbsp;
This allows one to easily retract to game start by supplying a very
large count.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">showVal</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Show
the value of the current board.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">showMoveHist</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Show
a list of the moves made thus far on the current board, using the
same column-sizing logic as described in ShowBoard, to list the moves
in columnar format with as many columns as will fit on 80-char lines.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">saveBoard
<i>fileName</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">saveMove
</font><font size="2" style="font-size: 11pt"><i>fileName</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Open
</font><font size="2" style="font-size: 11pt"><i>fileName</i></font>
<font size="2" style="font-size: 11pt">and write the binary contents
of the current board or move into it.&nbsp; For saveBoard, this
includes writing the current board-value options. Assertion or
failure may occur if an invalid file is supplied.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">loadBoard
<i>fileName</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">loadMove
</font><font size="2" style="font-size: 11pt"><i>fileName</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Open
</font><font size="2" style="font-size: 11pt"><i>fileName</i></font>
<font size="2" style="font-size: 11pt">and read binary contents from
it into the current board or move. For loadBoard, this includes
reading in new board-value options. Assertion or failure may occur if
an invalid file is supplied.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">compareKeys
</font><font size="2" style="font-size: 11pt"><i>boardFile</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Read
another board of the same type as the current board from the file
</font><font size="2" style="font-size: 11pt"><i>boardFile</i></font><font size="2" style="font-size: 11pt">,
and compare the current board's key with this other board's key.&nbsp;
Tell if they are equal or unequal, and if you say they are unequal
then also indicate whether the current board's key is less than the
other board's or greater than the other board's.&nbsp; Note that
since this requires loading a board, the command has the side</font>
<font size="2" style="font-size: 11pt">effect of changing board
options to those stored in boardFile.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">compareMove
</font><font size="2" style="font-size: 11pt"><i>moveString</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Compare
the current move with the entered move and report which is less,
greater, or equal.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">setOptions</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Run
a dialog to set options for the current board.</font></p>
<p class="msobodytext" style="margin-bottom: 0.2in">Whenever the
static weights are changed all existing boards of the current board
class must automatically reflect the change in the return of
GetValue.</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">testPlay
</font><font size="2" style="font-size: 11pt"><i>seed moveCount</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Generate
</font><font size="2" style="font-size: 11pt"><i>moveCount
</i></font><font size="2" style="font-size: 11pt">randomly-selected
moves via the following procedure.&nbsp; </font>
</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Use
srand(seed) to initialize the random number generator.&nbsp; Then
repeatedly (</font><font size="2" style="font-size: 11pt"><i>moveCount
</i></font><font size="2" style="font-size: 11pt">times) call
GetAllMoves and select the Nth move, where N is the next rand() value
modulo the size of the move list.&nbsp;&nbsp; Apply this move to the
board.&nbsp; Be sure to avoid any storage leaks.&nbsp; End the loop
early and without complaint if the game reaches its end.&nbsp; </font>
</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">testRun
</font><font size="2" style="font-size: 11pt"><i>seed stepCount</i></font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Like
testPlay, but each time the game ends, randomly select a number
between 1 and the current number of moves, retract that many moves,
and proceed until a total of stepCount &quot;steps&quot; have been
made, where a step is either a single forward move or a retraction of
1 or more moves.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">This
is intended as a speed check.&nbsp; You should be able to do a run
with 100,000 to 1,000,000 moves, depending on the game, in a
reasonably short time.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">keyMoveCount</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">Displays
the number of allocated Keys (of any derived type) and Moves (of any
derived type) currently outstanding, in this format:&nbsp;
</font><font size="2" style="font-size: 11pt"><i>Moves/Keys: ##/## </i></font>
</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">quit</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">End
the BoardTest program.&nbsp;&nbsp; EOF may occur before this command
is given.&nbsp; Terminate the program when EOF occurs if so.</font></p>
<h3 class="western">4.3 Don't Bother Testing BoardTest Itself</h3>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">BoardTest
is a </font><font size="2" style="font-size: 11pt"><i>test scaffold</i></font>
<font size="2" style="font-size: 11pt">-- code designed not for final
release as part of a product, but only for testing other code that
will be part of the product.&nbsp; As such, it need not be as
bulletproof as production code.&nbsp; In particular, giving bad
parameters to the above commands, or giving a properly-formatted but
disallowed move, need not be error-checked.&nbsp;&nbsp; My BoardTest
fails in interesting and sometimes spectacular ways in these cases,
and yours may do the same, in its own way.&nbsp; Bender will not test
these cases.&nbsp; </font>
</p>
<p class="msonormal" style="margin-bottom: 0.2in"><font size="2" style="font-size: 11pt">The
only error checking that must be accurate is that done by the classes
that BoardTest tests.&nbsp; Checking correct format and bounds of
moves, for instance, is done by the move classes, and the dialogs for
setting options are run by dialog classes. These are testable.</font></p>
<p class="msonormal" style="margin-bottom: 0.2in"><br/>
<br/>

</p>
</body>
</html>